---
layout: post
title:  2017龙星计划课程学习-陈子忠（一）
keywords: 研二
categories : 高性能基础学习
tags:
  - 课程学习
---
陈子忠老师是加州大学河滨分校的教授，FT（容错）技术的创始人，在高性能领域很是出名。上半学期的时候，实验室邀请过陈老师来讲座。我有幸参加，且受益匪浅。但是因为讲座的形式，其实都只是听个大概而已。故，看到陈老师要来北工大讲龙星计划的课，果断报名参加啦。研一一年的集中教学期间，说实话，当时开设的高性能的课，只有1门，而且老师讲的也比较不细致，没有啥营养，我学到的东西并不多。这学期在实验室做科研，越发发现，基础理论知识的重要性。尤其是在实践过一些时间之后，再去加深理论的学习，会理解的更加快，不像研一的时候，理解的模模糊糊的。


6.19：单核上的程序的性能优化

## 讲课（整理一下）
### 一：引言
#### 1.为什么单核3.8GHZ的相比4核1.6GHZ的处理器，程序的加速，不会达到（4*1.6/3.8）?

需要专门写并行程序（多线程），才能利用好多核。

#### 2.为什么单核3.6GHZ相比1.8GHZ，加速比不会达到3.6/1.8?

因为程序的瓶颈可能是内存-》cpu直接的数据传输（通信），导致大部分时间浪费在等待数被取到寄存器上，cpu的计算能力没有完全发挥出来。

#### 3. 每年大约3-4名博士，6万全额奖学金。

### 二：单核程序优化

#### 1.

locality特性 =》内存的存储层次 =》如何充分利用好存储层次来加速？

#### 2.以gemm为例进行讲解

1.优化寄存器（展示了汇编代码）

将一些从内存中读取的数，用临时变量存一下，能够减少访内存的次数。

总结：其实很多时候，要想优化到极致，都得会看汇编程序。

2.优化cache：减少cache miss。
 
 2.1 三重循环的顺序，一共有6种方式，每一个都分析一遍，然后画图，看看哪个cache miss最小（这种研究方法学习）。

 2.2 首先只分析了最内层的cache miss。然后把整个程序的都分析啦。

3. 矩阵分块
	3层循环被不断的展成6层，9层，等等。来充分利用好L1，L2,L3和寄存器的资源。（好好理解一下）



## 提问： 关于做科研：

#### 1.做什么样的问题？


	高性能/并行程序设计领域，不管做什么，比的都是速度。
	（1）若是经典问题，这个是比较难的。已经被大家做烂啦。（考虑新的平台）
	（2）可以自己找新的问题，但是一定要有motivation：问题本身用的很多；若加速，对整个应用产生巨大的提速效果。


#### 2.细粒度的算法调优（高性能的一帮人搞的这些），用到的其实方法都是一些普遍的方法：分块，simd等等，这种算是创新吗？


	算。但要注意投对文章。一个问题，若别人做过，只要你的性能超过别人，你就可以发文章。若别人没做过，你通过调研发现，它很重要，又是性能忧关的函数，你只要完整的做出来，就可以发文章。若要想发好文章，得做到极致（在某个平台上，别人再也超过不了你）。

#### 3.写文章的时候

	（1）若是新问题，或者你自己尝试了很多种方法，你都可以写出来（作为经验，教训），作为最优版本的对比版本，同时也对读者有启发意义。【让审稿人觉得，你花费了至少半年到一年的问题来解决它，而不是很简单的一下子就可以解决。是要有工作量的】
	（2）若是老问题，直接与当前最好的进行对比，一般都是一些高性能的库，或者是论文中的。
	（3）老师审稿的时候，会思考，如何是自己解决，会采取什么方法，所以，你只要做的超过老师的想象，基本上就可以打动审稿人。


## 总结
1.学习一下老师讲课的思路：

2.单纯的优化程序，达到好的性能后，可以投哪些会议？（老师推荐）